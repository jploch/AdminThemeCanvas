/*! UIkit 3.0.0-rc.17 | http://www.getuikit.com | (c) 2014 - 2018 YOOtheme | MIT License */

!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("uikit-util")):"function"==typeof define&&define.amd?define("uikittooltip",["uikit-util"],i):t.UIkitTooltip=i(t.UIkit.util)}(this,function(m){"use strict";var t={props:{container:Boolean},data:{container:!0},computed:{container:function(t){t=t.container;return!0===t&&this.$container||t&&m.$(t)}}},i={props:{cls:Boolean,animation:"list",duration:Number,origin:String,transition:String,queued:Boolean},data:{cls:!1,animation:[!1],duration:200,origin:!1,transition:"linear",queued:!1,initProps:{overflow:"",height:"",paddingTop:"",paddingBottom:"",marginTop:"70",marginBottom:""},hideProps:{overflow:"hidden",height:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}},computed:{hasAnimation:function(t){return!!t.animation[0]},hasTransition:function(t){t=t.animation;return this.hasAnimation&&!0===t[0]}},methods:{toggleElement:function(h,l,u){var d=this;return new m.Promise(function(t){h=m.toNodes(h);function i(t){return m.Promise.all(t.map(function(t){return d._toggleElement(t,l,u)}))}var n,o,e,s,r=h.filter(function(t){return d.isToggled(t)}),a=h.filter(function(t){return!m.includes(r,t)});d.queued&&m.isUndefined(u)&&m.isUndefined(l)&&d.hasAnimation&&!(h.length<2)?(n=document.body,o=n.scrollTop,s=r[0],e=m.Animation.inProgress(s)&&m.hasClass(s,"uk-animation-leave")||m.Transition.inProgress(s)&&"0px"===s.style.height,s=i(r),e||(s=s.then(function(){var t=i(a);return n.scrollTop=o,t}))):s=i(a.concat(r)),s.then(t,m.noop)})},toggleNow:function(i,n){var o=this;return new m.Promise(function(t){return m.Promise.all(m.toNodes(i).map(function(t){return o._toggleElement(t,n,!1)})).then(t,m.noop)})},isToggled:function(t){t=m.toNodes(t||this.$el);return this.cls?m.hasClass(t,this.cls.split(" ")[0]):!m.hasAttr(t,"hidden")},updateAria:function(t){!1===this.cls&&m.attr(t,"aria-hidden",!this.isToggled(t))},_toggleElement:function(t,i,n){var o=this;if(i=m.isBoolean(i)?i:m.Animation.inProgress(t)?m.hasClass(t,"uk-animation-leave"):m.Transition.inProgress(t)?"0px"===t.style.height:!this.isToggled(t),!m.trigger(t,"before"+(i?"show":"hide"),[this]))return m.Promise.reject();var e,s,r,a,h,l,u,d,c,g,f,h=(m.isFunction(n)?n:!1!==n&&this.hasAnimation?this.hasTransition?(l=(h=this).isToggled,u=h.duration,d=h.initProps,c=h.hideProps,g=h.transition,f=h._toggle,function(t,i){var n=m.Transition.inProgress(t),o=t.hasChildNodes?m.toFloat(m.css(t.firstElementChild,"marginTop"))+m.toFloat(m.css(t.lastElementChild,"marginBottom")):0,e=m.isVisible(t)?m.height(t)+(n?0:o):0;m.Transition.cancel(t),l(t)||f(t,!0),m.height(t,""),m.fastdom.flush();o=m.height(t)+(n?0:o);return m.height(t,e),(i?m.Transition.start(t,m.assign({},d,{overflow:"hidden",height:o}),Math.round(u*(1-e/o)),g):m.Transition.start(t,c,Math.round(u*(e/o)),g).then(function(){return f(t,!1)})).then(function(){return m.css(t,d)})}):(e=(p=this).animation,s=p.duration,r=p.origin,a=p._toggle,function(t,i){return m.Animation.cancel(t),i?(a(t,!0),m.Animation.in(t,e[0],s,r)):m.Animation.out(t,e[1]||e[0],s,r).then(function(){return a(t,!1)})}):this._toggle)(t,i);m.trigger(t,i?"show":"hide",[this]);var p=function(){m.trigger(t,i?"shown":"hidden",[o]),o.$update(t)};return h?h.then(p):m.Promise.resolve(p())},_toggle:function(t,i){var n;t&&(this.cls?(n=m.includes(this.cls," ")||Boolean(i)!==m.hasClass(t,this.cls))&&m.toggleClass(t,this.cls,m.includes(this.cls," ")?void 0:i):(n=Boolean(i)===m.hasAttr(t,"hidden"))&&m.attr(t,"hidden",i?null:""),m.$$("[autofocus]",t).some(function(t){return m.isVisible(t)&&(t.focus()||!0)}),this.updateAria(t),n&&this.$update(t))}}};var n={props:{pos:String,offset:null,flip:Boolean,clsPos:String},data:{pos:"bottom-"+(m.isRtl?"right":"left"),flip:!0,offset:!1,clsPos:""},computed:{pos:function(t){t=t.pos;return(t+(m.includes(t,"-")?"":"-center")).split("-")},dir:function(){return this.pos[0]},align:function(){return this.pos[1]}},methods:{positionAt:function(t,i,n){var o;m.removeClasses(t,this.clsPos+"-(top|bottom|left|right)(-[a-z]+)?"),m.css(t,{top:"",left:""});var e=this.offset,s=this.getAxis(),e=m.isNumeric(e)?e:(o=m.$(e))?m.offset(o)["x"===s?"left":"top"]-m.offset(i)["x"===s?"right":"bottom"]:0,e=m.positionAt(t,i,"x"===s?m.flipPosition(this.dir)+" "+this.align:this.align+" "+m.flipPosition(this.dir),"x"===s?this.dir+" "+this.align:this.align+" "+this.dir,"x"===s?""+("left"===this.dir?-e:e):" "+("top"===this.dir?-e:e),null,this.flip,n).target,n=e.x,e=e.y;this.dir="x"===s?n:e,this.align="x"===s?e:n,m.toggleClass(t,this.clsPos+"-"+this.dir+"-"+this.align,!1===this.offset)},getAxis:function(){return"top"===this.dir||"bottom"===this.dir?"y":"x"}}},o=[],n={mixins:[t,i,n],args:"title",props:{delay:Number,title:String},data:{pos:"top",title:"",delay:0,animation:["uk-animation-scale-up"],duration:100,cls:"uk-active",clsPos:"uk-tooltip"},beforeConnect:function(){this._hasTitle=m.hasAttr(this.$el,"title"),m.attr(this.$el,{title:"","aria-expanded":!1})},disconnected:function(){this.hide(),m.attr(this.$el,{title:this._hasTitle?this.title:null,"aria-expanded":null})},methods:{show:function(){var i=this;m.includes(o,this)||(o.forEach(function(t){return t.hide()}),o.push(this),this._unbind=m.on(document,"click",function(t){return!m.within(t.target,i.$el)&&i.hide()}),clearTimeout(this.showTimer),this.showTimer=setTimeout(function(){i._show(),i.hideTimer=setInterval(function(){m.isVisible(i.$el)||i.hide()},150)},this.delay))},hide:function(){var t=o.indexOf(this);!~t||m.matches(this.$el,"input")&&this.$el===document.activeElement||(o.splice(t,1),clearTimeout(this.showTimer),clearInterval(this.hideTimer),m.attr(this.$el,"aria-expanded",!1),this.toggleElement(this.tooltip,!1),this.tooltip&&m.remove(this.tooltip),this.tooltip=!1,this._unbind())},_show:function(){this.tooltip=m.append(this.container,'<div class="'+this.clsPos+'" aria-expanded="true" aria-hidden> <div class="'+this.clsPos+'-inner">'+this.title+"</div> </div>"),this.positionAt(this.tooltip,this.$el),this.origin="y"===this.getAxis()?m.flipPosition(this.dir)+"-"+this.align:this.align+"-"+m.flipPosition(this.dir),this.toggleElement(this.tooltip,!0)}},events:((n={})["focus "+m.pointerEnter+" "+m.pointerDown]=function(t){t.type===m.pointerDown&&m.isTouch(t)||this.show()},n.blur="hide",n[m.pointerLeave]=function(t){m.isTouch(t)||this.hide()},n)};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("tooltip",n),n});