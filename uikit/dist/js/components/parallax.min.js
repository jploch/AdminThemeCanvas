/*! UIkit 3.0.0-rc.17 | http://www.getuikit.com | (c) 2014 - 2018 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitparallax",["uikit-util"],e):t.UIkitParallax=e(t.UIkit.util)}(this,function(h){"use strict";var t={props:{media:Boolean},data:{media:!1},computed:{matchMedia:function(){var t=function(t){if(h.isString(t))if("@"===t[0]){var e="breakpoint-"+t.substr(1);t=h.toFloat(h.getCssVar(e))}else if(isNaN(t))return t;return!(!t||isNaN(t))&&"(min-width: "+t+"px)"}(this.media);return!t||window.matchMedia(t).matches}}};var e=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];function g(t,e){var r=t.length-1,i=Math.min(Math.floor(r*e),r-1),i=t.slice(i,i+2);return i.push(1===e?1:e%(1/r)*r),i}function b(t,e,r){void 0===r&&(r=2);var i=g(t,e),t=i[0],e=i[1],i=i[2];return(h.isNumber(t)?t+Math.abs(t-e)*i*(t<e?1:-1):+e).toFixed(r)}t={mixins:[{mixins:[t],props:e.reduce(function(t,e){return t[e]="list",t},{}),data:e.reduce(function(t,e){return t[e]=void 0,t},{}),computed:{props:function(d,p){var f=this;return e.reduce(function(t,e){if(h.isUndefined(d[e]))return t;var r,i,a=e.match(/color/i),s=a||"opacity"===e,n=d[e].slice(0);s&&h.css(p,e,""),n.length<2&&n.unshift(("scale"===e?1:s?h.css(p,e):0)||0);var o,c,u,l,s=h.includes(n.join(""),"%")?"%":"px";return a?(a=p.style.color,n=n.map(function(t){return e=p,t=t,h.css(h.css(e,"color",t),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return h.toFloat(t)});var e}),p.style.color=a):n=n.map(h.toFloat),e.match(/^bg/)&&(h.css(p,"background-position-"+e[2],""),i=h.css(p,"backgroundPosition").split(" ")["x"===e[2]?0:1],r=f.covers?(o=Math.min.apply(Math,n),c=Math.max.apply(Math,n),u=n.indexOf(o)<n.indexOf(c),l=c-o,n=n.map(function(t){return t-(u?o:c)}),(u?-l:0)+"px"):i),t[e]={steps:n,unit:s,pos:r,bgPos:i,diff:l},t},{})},bgProps:function(){var e=this;return["bgx","bgy"].filter(function(t){return t in e.props})},covers:function(t,e){return i=(r=e).style.backgroundSize,e="cover"===h.css(h.css(r,"backgroundSize",""),"backgroundSize"),r.style.backgroundSize=i,e;var r,i}},disconnected:function(){delete this._image},update:{read:function(t){var e,r,i=this;t.active=this.matchMedia,t.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight},"image"in t||!this.covers||!this.bgProps.length||(e=h.css(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1"))&&((r=new Image).src=e,(t.image=r).naturalWidth||(r.onload=function(){return i.$emit()}))},write:function(t){var o,c,u=this,l=t.dimEl,e=t.image,t=t.active;e&&e.naturalWidth&&(t?(o={width:e.naturalWidth,height:e.naturalHeight},c=h.Dimensions.cover(o,l),this.bgProps.forEach(function(t){var e,r=u.props[t],i=r.diff,a=r.bgPos,s=r.steps,r="bgy"===t?"height":"width",n=c[r]-l[r];a.match(/%$|0px/)&&(n<i?l[r]=c[r]+i-n:i<n&&((e=parseFloat(a))&&(u.props[t].steps=s.map(function(t){return t-(n-i)/(100/e)}))),c=h.Dimensions.cover(o,l))}),h.css(this.$el,{backgroundSize:c.width+"px "+c.height+"px",backgroundRepeat:"no-repeat"})):h.css(this.$el,{backgroundSize:"",backgroundRepeat:""}))},events:["load","resize"]},methods:{reset:function(){var r=this;h.each(this.getCss(0),function(t,e){return h.css(r.$el,e,"")})},getCss:function(d){var p=this.props,f=!1;return Object.keys(p).reduce(function(t,e){var r=p[e],i=r.steps,a=r.unit,s=r.pos,n=b(i,d);switch(e){case"x":case"y":if(f)break;var o=["x","y"].map(function(t){return e===t?h.toFloat(n).toFixed(0)+a:p[t]?b(p[t].steps,d,0)+p[t].unit:0}),c=o[0],o=o[1];f=t.transform+=" translate3d("+c+", "+o+", 0)";break;case"rotate":t.transform+=" rotate("+n+"deg)";break;case"scale":t.transform+=" scale("+n+")";break;case"bgy":case"bgx":t["background-position-"+e[2]]="calc("+s+" + "+(n+a)+")";break;case"color":case"backgroundColor":case"borderColor":var c=g(i,d),o=c[0],u=c[1],l=c[2];t[e]="rgba("+o.map(function(t,e){return t+=l*(u[e]-t),3===e?h.toFloat(t):parseInt(t,10)}).join(",")+")";break;case"blur":t.filter+=" blur("+n+"px)";break;case"hue":t.filter+=" hue-rotate("+n+"deg)";break;case"fopacity":t.filter+=" opacity("+n+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":t.filter+=" "+e+"("+n+"%)";break;default:t[e]=n}return t},{transform:"",filter:""})}}}],props:{target:String,viewport:Number,easing:Number},data:{target:!1,viewport:1,easing:1},computed:{target:function(t,e){t=t.target;return t&&h.query(t,e)||e}},update:{read:function(t,e){var r=t.percent,i=t.active;if("scroll"!==e.type&&(r=!1),i){t=r;return e=h.scrolledOver(this.target)/(this.viewport||1),i=this.easing,{percent:r=h.clamp(e*(1-(i-i*e))),style:t!==r&&this.getCss(r)}}},write:function(t){var e=t.style;t.active?e&&h.css(this.$el,e):this.reset()},events:["scroll","load","resize"]}};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("parallax",t),t});