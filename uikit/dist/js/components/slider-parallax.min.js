/*! UIkit 3.0.0-rc.17 | http://www.getuikit.com | (c) 2014 - 2018 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslider_parallax",["uikit-util"],e):t.UIkitSlider_parallax=e(t.UIkit.util)}(this,function(p){"use strict";var t={props:{media:Boolean},data:{media:!1},computed:{matchMedia:function(){var t=function(t){if(p.isString(t))if("@"===t[0]){var e="breakpoint-"+t.substr(1);t=p.toFloat(p.getCssVar(e))}else if(isNaN(t))return t;return!(!t||isNaN(t))&&"(min-width: "+t+"px)"}(this.media);return!t||window.matchMedia(t).matches}}};var e=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];function m(t,e){var i=t.length-1,n=Math.min(Math.floor(i*e),i-1),n=t.slice(n,n+2);return n.push(1===e?1:e%(1/i)*i),n}function g(t,e,i){void 0===i&&(i=2);var n=m(t,e),t=n[0],e=n[1],n=n[2];return(p.isNumber(t)?t+Math.abs(t-e)*n*(t<e?1:-1):+e).toFixed(i)}t={mixins:[{mixins:[t],props:e.reduce(function(t,e){return t[e]="list",t},{}),data:e.reduce(function(t,e){return t[e]=void 0,t},{}),computed:{props:function(d,h){var f=this;return e.reduce(function(t,e){if(p.isUndefined(d[e]))return t;var i,n,r=e.match(/color/i),a=r||"opacity"===e,s=d[e].slice(0);a&&p.css(h,e,""),s.length<2&&s.unshift(("scale"===e?1:a?p.css(h,e):0)||0);var o,c,u,l,a=p.includes(s.join(""),"%")?"%":"px";return r?(r=h.style.color,s=s.map(function(t){return e=h,t=t,p.css(p.css(e,"color",t),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return p.toFloat(t)});var e}),h.style.color=r):s=s.map(p.toFloat),e.match(/^bg/)&&(p.css(h,"background-position-"+e[2],""),n=p.css(h,"backgroundPosition").split(" ")["x"===e[2]?0:1],i=f.covers?(o=Math.min.apply(Math,s),c=Math.max.apply(Math,s),u=s.indexOf(o)<s.indexOf(c),l=c-o,s=s.map(function(t){return t-(u?o:c)}),(u?-l:0)+"px"):n),t[e]={steps:s,unit:a,pos:i,bgPos:n,diff:l},t},{})},bgProps:function(){var e=this;return["bgx","bgy"].filter(function(t){return t in e.props})},covers:function(t,e){return n=(i=e).style.backgroundSize,e="cover"===p.css(p.css(i,"backgroundSize",""),"backgroundSize"),i.style.backgroundSize=n,e;var i,n}},disconnected:function(){delete this._image},update:{read:function(t){var e,i,n=this;t.active=this.matchMedia,t.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight},"image"in t||!this.covers||!this.bgProps.length||(e=p.css(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1"))&&((i=new Image).src=e,(t.image=i).naturalWidth||(i.onload=function(){return n.$emit()}))},write:function(t){var o,c,u=this,l=t.dimEl,e=t.image,t=t.active;e&&e.naturalWidth&&(t?(o={width:e.naturalWidth,height:e.naturalHeight},c=p.Dimensions.cover(o,l),this.bgProps.forEach(function(t){var e,i=u.props[t],n=i.diff,r=i.bgPos,a=i.steps,i="bgy"===t?"height":"width",s=c[i]-l[i];r.match(/%$|0px/)&&(s<n?l[i]=c[i]+n-s:n<s&&((e=parseFloat(r))&&(u.props[t].steps=a.map(function(t){return t-(s-n)/(100/e)}))),c=p.Dimensions.cover(o,l))}),p.css(this.$el,{backgroundSize:c.width+"px "+c.height+"px",backgroundRepeat:"no-repeat"})):p.css(this.$el,{backgroundSize:"",backgroundRepeat:""}))},events:["load","resize"]},methods:{reset:function(){var i=this;p.each(this.getCss(0),function(t,e){return p.css(i.$el,e,"")})},getCss:function(d){var h=this.props,f=!1;return Object.keys(h).reduce(function(t,e){var i=h[e],n=i.steps,r=i.unit,a=i.pos,s=g(n,d);switch(e){case"x":case"y":if(f)break;var o=["x","y"].map(function(t){return e===t?p.toFloat(s).toFixed(0)+r:h[t]?g(h[t].steps,d,0)+h[t].unit:0}),c=o[0],o=o[1];f=t.transform+=" translate3d("+c+", "+o+", 0)";break;case"rotate":t.transform+=" rotate("+s+"deg)";break;case"scale":t.transform+=" scale("+s+")";break;case"bgy":case"bgx":t["background-position-"+e[2]]="calc("+a+" + "+(s+r)+")";break;case"color":case"backgroundColor":case"borderColor":var c=m(n,d),o=c[0],u=c[1],l=c[2];t[e]="rgba("+o.map(function(t,e){return t+=l*(u[e]-t),3===e?p.toFloat(t):parseInt(t,10)}).join(",")+")";break;case"blur":t.filter+=" blur("+s+"px)";break;case"hue":t.filter+=" hue-rotate("+s+"deg)";break;case"fopacity":t.filter+=" opacity("+s+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":t.filter+=" "+e+"("+s+"%)";break;default:t[e]=s}return t},{transform:"",filter:""})}}}],data:{selItem:"!li"},computed:{item:function(t,e){t=t.selItem;return p.query(t,e)}},events:[{name:"itemshown",self:!0,el:function(){return this.item},handler:function(){p.css(this.$el,this.getCss(.5))}},{name:"itemin itemout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,r=i.duration,t=i.timing,i=i.dir;p.Transition.cancel(this.$el),p.css(this.$el,this.getCss(s(e,i,n))),p.Transition.start(this.$el,this.getCss(a(e)?.5:0<i?1:0),r,t).catch(p.noop)}},{name:"transitioncanceled transitionend",self:!0,el:function(){return this.item},handler:function(){p.Transition.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,t=i.percent,i=i.dir;p.Transition.cancel(this.$el),p.css(this.$el,this.getCss(s(e,i,t)))}}]};function a(t){return p.endsWith(t,"in")}function s(t,e,i){return i/=2,a(t)?e<0?1-i:i:e<0?i:1-i}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("sliderParallax",t),t});