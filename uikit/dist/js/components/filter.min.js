/*! UIkit 3.0.0-rc.17 | http://www.getuikit.com | (c) 2014 - 2018 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitfilter",["uikit-util"],e):t.UIkitFilter=e(t.UIkit.util)}(this,function(l){"use strict";var s,c="uk-animation-target";function u(t,e){var i=l.css(t,"zIndex");return!!l.isVisible(t)&&l.assign({display:"",opacity:e?l.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===i?l.index(t):i},f(t))}function h(t){l.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:""}),l.removeClass(t,c),l.css(t,"height","")}function f(t){var e=t.getBoundingClientRect(),i=e.height,n=e.width,r=l.position(t),e=r.top,r=r.left;return{top:e+=l.toFloat(l.css(t,"marginTop")),left:r,height:i,width:n}}var t={mixins:[{props:{animation:Number},data:{animation:150},computed:{target:function(){return this.$el}},methods:{animate:function(t){var i=this;s||(s=l.append(document.head,"<style>").sheet).insertRule("."+c+" > * {\n                    margin-top: 0 !important;\n                    transform: none !important;\n                }",0);var n=l.toNodes(this.target.children),r=n.map(function(t){return u(t,!0)}),e=l.height(this.target),o=window.pageYOffset;t(),l.Transition.cancel(this.target),n.forEach(l.Transition.cancel),h(this.target),this.$update(this.target),l.fastdom.flush();var t=l.height(this.target),a=(n=n.concat(l.toNodes(this.target.children).filter(function(t){return!l.includes(n,t)}))).map(function(t,e){return!!(t.parentNode&&e in r)&&(r[e]?l.isVisible(t)?f(t):{opacity:0}:{opacity:l.isVisible(t)?1:0})}),r=a.map(function(t,e){e=n[e].parentNode===i.target&&(r[e]||u(n[e]));return e&&(t?"opacity"in t||(e.opacity%1?t.opacity=1:delete e.opacity):delete e.opacity),e});return l.addClass(this.target,c),n.forEach(function(t,e){return r[e]&&l.css(t,r[e])}),l.css(this.target,"height",e),l.scrollTop(window,o),l.Promise.all(n.map(function(t,e){return r[e]&&a[e]?l.Transition.start(t,a[e],i.animation,"ease"):l.Promise.resolve()}).concat(l.Transition.start(this.target,{height:t},this.animation,"ease"))).then(function(){n.forEach(function(t,e){return l.css(t,{display:0===a[e].opacity?"none":"",zIndex:""})}),h(i.target),i.$update(i.target),l.fastdom.flush()},l.noop)}}}],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",animation:250},computed:{toggles:function(t,e){t.attrItem;return l.$$("["+this.attrItem+"],[data-"+this.attrItem+"]",e)},target:function(t,e){t=t.target;return l.$(t,e)}},events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.apply(t.current)}}],connected:function(){var e,i=this;!1!==this.selActive&&(e=l.$$(this.selActive,this.$el),this.toggles.forEach(function(t){return l.toggleClass(t,i.cls,l.includes(e,t))}))},update:function(t){var e=t.toggles,i=t.children;g(e,this.toggles,!1)&&g(i,this.target.children,!1)||(t.toggles=this.toggles,t.children=this.target.children,this.setState(this.getState(),!1))},methods:{apply:function(t){this.setState(n(t,this.attrItem,this.getState()))},getState:function(){var i=this;return this.toggles.filter(function(t){return l.hasClass(t,i.cls)}).reduce(function(t,e){return n(e,i.attrItem,t)},{filter:{"":""},sort:[]})},setState:function(s,t){var c=this;void 0===t&&(t=!0),s=l.assign({filter:{"":""},sort:[]},s),l.trigger(this.$el,"beforeFilter",[this,s]);var u=l.toNodes(this.target.children);this.toggles.forEach(function(t){return l.toggleClass(t,c.cls,function(t,e,i){var n=i.filter,r=i.sort,o=r[0],a=r[1],i=d(t,e),r=i.filter,t=i.group;void 0===t&&(t="");e=i.sort,i=i.order;void 0===i&&(i="asc");return Boolean((r||l.isUndefined(e))&&t in n&&(r===n[t]||l.isUndefined(r)&&!n[t])||o&&e&&o===e&&a===i)}(t,c.attrItem,s))});function e(){var e,i=(a=(a=s).filter,e="",l.each(a,function(t){return e+=t||""}),e);u.forEach(function(t){return l.css(t,"display",i&&!l.matches(t,i)?"none":"")});var n,r,t=s.sort,o=t[0],a=t[1];o&&(t=u,n=o,r=a,g(t=l.toNodes(t).sort(function(t,e){return l.data(t,n).localeCompare(l.data(e,n),void 0,{numeric:!0})*("asc"===r||-1)}),u)||t.forEach(function(t){return l.append(c.target,t)}))}t?this.animate(e).then(function(){return l.trigger(c.$el,"afterFilter",[c])}):(e(),l.trigger(this.$el,"afterFilter",[this]))}}};function d(t,e){return l.parseOptions(l.data(t,e),["filter"])}function n(t,r,o){return l.toNodes(t).forEach(function(t){var e=d(t,r),i=e.filter,n=e.group,t=e.sort,e=e.order;void 0===e&&(e="asc"),(i||l.isUndefined(t))&&(n?(delete o.filter[""],o.filter[n]=i):o.filter={"":i}),l.isUndefined(t)||(o.sort=[t,e])}),o}function g(t,i,n){return void 0===n&&(n=!0),t=l.toNodes(t),i=l.toNodes(i),t.length===i.length&&t.every(function(t,e){return n?t===i[e]:~i.indexOf(t)})}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("filter",t),t});