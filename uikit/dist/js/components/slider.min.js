/*! UIkit 3.0.0-rc.17 | http://www.getuikit.com | (c) 2014 - 2018 YOOtheme | MIT License */

!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitslider",["uikit-util"],i):t.UIkitSlider=i(t.UIkit.util)}(this,function(u){"use strict";function n(t){return.5*t+300}function l(t,i){return void 0===t&&(t=0),void 0===i&&(i="%"),"translateX("+t+(t?i:"")+")"}function c(t,i,e){var n=v(t,i);return e?n-(t=t,g(i).width/2-g(t).width/2):Math.min(n,s(i))}function s(t){return Math.max(0,f(t)-g(t).width)}function f(t){return m(t).reduce(function(t,i){return g(i).width+t},0)}function v(t,i){return(u.position(t).left+(u.isRtl?g(t).width-g(i).width:0))*(u.isRtl?-1:1)}function g(t){return t.getBoundingClientRect()}function p(t,i,e){u.trigger(t,u.createEvent(i,!1,!1,e))}function m(t){return u.toNodes(t.children)}var t={mixins:[{connected:function(){u.hasClass(this.$el,this.$name)||u.addClass(this.$el,this.$name)}},{mixins:[{props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},events:[{name:"visibilitychange",el:document,handler:function(){document.hidden?this.stopAutoplay():this.startAutoplay()}},{name:u.pointerDown,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}}],methods:{startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){return!(t.isHovering&&t.pauseOnHover)&&!t.stack.length&&t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}},{data:{threshold:10,preventCatch:!1},created:function(){var n=this;["start","move","end"].forEach(function(t){var e=n[t];n[t]=function(t){var i=u.getPos(t).x*(u.isRtl?-1:1);n.prevPos=i!==n.pos?n.pos:n.prevPos,n.pos=i,e(t)}})},events:[{name:u.pointerDown,delegate:function(){return this.slidesSelector},handler:function(t){var i;!u.isTouch(t)&&(!(i=t.target).children.length&&i.childNodes.length)||0<t.button||this.length<2||this.preventCatch||this.start(t)}},{name:"touchmove",passive:!1,handler:"move",delegate:function(){return this.slidesSelector}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(){var t=this;this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index;var i=u.on(document,u.pointerMove.replace(" touchmove",""),this.move,{passive:!1});this.unbindMove=function(){i(),t.unbindMove=null},u.on(window,"scroll",this.unbindMove),u.on(document,u.pointerUp,this.end,!0)},move:function(t){var i=this;if(this.unbindMove){var e=this.pos-this.drag;if(!(0==e||this.prevPos===this.pos||!this.dragging&&Math.abs(e)<this.threshold)){t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=e<0?1:-1;for(var n=this.slides,s=this.prevIndex,r=Math.abs(e),h=this.getIndex(s+this.dir,s),o=this._getDistance(s,h)||n[s].offsetWidth;h!==s&&o<r;)this.drag-=o*this.dir,s=h,r-=o,h=this.getIndex(s+this.dir,s),o=this._getDistance(s,h)||n[s].offsetWidth;this.percent=r/o;var a,d=n[s],t=n[h],e=this.index!==h,l=s===h;[this.index,this.prevIndex].filter(function(t){return!u.includes([h,s],t)}).forEach(function(t){u.trigger(n[t],"itemhidden",[i]),l&&(a=!0,i.prevIndex=s)}),(this.index===s&&this.prevIndex!==s||a)&&u.trigger(n[this.index],"itemshown",[this]),e&&(this.prevIndex=s,this.index=h,l||u.trigger(d,"beforeitemhide",[this]),u.trigger(t,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),d,!l&&t),e&&(l||u.trigger(d,"itemhide",[this]),u.trigger(t,"itemshow",[this]))}}},end:function(){var t;u.off(window,"scroll",this.unbindMove),this.unbindMove&&this.unbindMove(),u.off(document,u.pointerUp,this.end,!0),this.dragging&&(this.dragging=null,this.index===this.prevIndex?(this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null):(t=(u.isRtl?this.dir*(u.isRtl?1:-1):this.dir)<0==this.prevPos>this.pos,this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(0<this.dir&&!t||this.dir<0&&t?"next":"previous",!0)),u.preventClick()),this.drag=this.percent=null}}},{data:{selNav:!1},computed:{nav:function(t,i){t=t.selNav;return u.$(t,i)},navItemSelector:function(t){t=t.attrItem;return"["+t+"],[data-"+t+"]"},navItems:function(t,i){return u.$$(this.navItemSelector,i)}},update:{write:function(){var e=this;this.nav&&this.length!==this.nav.children.length&&u.html(this.nav,this.slides.map(function(t,i){return"<li "+e.attrItem+'="'+i+'"><a href="#"></a></li>'}).join("")),u.toggleClass(u.$$(this.navItemSelector,this.$el).concat(this.nav),"uk-hidden",!this.maxIndex),this.updateNav()},events:["load","resize"]},events:[{name:"click",delegate:function(){return this.navItemSelector},handler:function(t){t.preventDefault(),t.current.blur(),this.show(u.data(t.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav:function(){var e=this,n=this.getValidIndex();this.navItems.forEach(function(t){var i=u.data(t,e.attrItem);u.toggleClass(t,e.clsActive,u.toNumber(i)===n),u.toggleClass(t,"uk-invisible",e.finite&&("previous"===i&&0===n||"next"===i&&n>=e.maxIndex))})}}}],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:function(){return{easing:"ease",finite:!1,velocity:1,index:0,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}},computed:{duration:function(t,i){t=t.velocity;return n(i.offsetWidth/t)},length:function(){return this.slides.length},list:function(t,i){t=t.selList;return u.$(t,i)},maxIndex:function(){return this.length-1},slidesSelector:function(t){return t.selList+" > *"},slides:function(){return u.toNodes(this.list.children)}},events:{itemshown:function(){this.$update(this.list)}},methods:{show:function(t,i){var e=this;if(void 0===i&&(i=!1),!this.dragging&&this.length){var n=this.stack,s=i?0:n.length,r=function(){n.splice(s,1),n.length&&e.show(n.shift(),!0)};if(n[i?"unshift":"push"](t),!i&&1<n.length)2===n.length&&this._transitioner.forward(Math.min(this.duration,200));else{var h,o=this.index,a=u.hasClass(this.slides,this.clsActive)&&this.slides[o],d=this.getIndex(t,this.index),l=this.slides[d];if(a!==l){if(this.dir=(h=o,"next"!==(t=t)&&("previous"===t||t<h)?-1:1),this.prevIndex=o,this.index=d,a&&u.trigger(a,"beforeitemhide",[this]),!u.trigger(l,"beforeitemshow",[this,a]))return this.index=this.prevIndex,void r();i=this._show(a,l,i).then(function(){return a&&u.trigger(a,"itemhidden",[e]),u.trigger(l,"itemshown",[e]),new u.Promise(function(t){u.fastdom.write(function(){n.shift(),n.length?e.show(n.shift(),!0):e._transitioner=null,t()})})});return a&&u.trigger(a,"itemhide",[this]),u.trigger(l,"itemshow",[this]),i}r()}}},getIndex:function(t,i){return void 0===t&&(t=this.index),void 0===i&&(i=this.index),u.clamp(u.getIndex(t,this.slides,i,this.finite),0,this.maxIndex)},getValidIndex:function(t,i){return void 0===t&&(t=this.index),void 0===i&&(i=this.prevIndex),this.getIndex(t,i)},_show:function(t,i,e){if(this._transitioner=this._getTransitioner(t,i,this.dir,u.assign({easing:e?i.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing},this.transitionOptions)),!e&&!t)return this._transitioner.translate(1),u.Promise.resolve();t=this.stack.length;return this._transitioner[1<t?"forward":"show"](1<t?Math.min(this.duration,75+75/(t-1)):this.duration,this.percent)},_getDistance:function(t,i){return new this._getTransitioner(t,t!==i&&i).getDistance()},_translate:function(t,i,e){void 0===i&&(i=this.prevIndex),void 0===e&&(e=this.index);e=this._getTransitioner(i!==e&&i,e);return e.translate(t),e},_getTransitioner:function(t,i,e,n){return void 0===t&&(t=this.prevIndex),void 0===i&&(i=this.index),void 0===e&&(e=this.dir||1),void 0===n&&(n=this.transitionOptions),new this.Transitioner(u.isNumber(t)?this.slides[t]:t,u.isNumber(i)?this.slides[i]:i,e*(u.isRtl?-1:1),n)}}},{update:{write:function(){var t;this.stack.length||this.dragging||(t=this.getValidIndex(),delete this.index,u.removeClass(this.slides,this.clsActive,this.clsActivated),this.show(t))},events:["load","resize"]}}],props:{center:Boolean,sets:Boolean},data:{center:!1,sets:!1,attrItem:"uk-slider-item",selList:".uk-slider-items",selNav:".uk-slider-nav",clsContainer:"uk-slider-container",Transitioner:function(n,s,r,t){var i=t.center,h=t.easing,o=t.list,a=new u.Deferred,e=n?c(n,o,i):c(s,o,i)+g(s).width*r,d=s?c(s,o,i):e+g(n).width*r*(u.isRtl?-1:1);return{dir:r,show:function(t,i,e){void 0===i&&(i=0);e=e?"linear":h;return t-=Math.round(t*u.clamp(i,-1,1)),this.translate(i),n&&this.updateTranslates(),i=n?i:u.clamp(i,0,1),p(this.getItemIn(),"itemin",{percent:i,duration:t,timing:e,dir:r}),n&&p(this.getItemIn(!0),"itemout",{percent:1-i,duration:t,timing:e,dir:r}),u.Transition.start(o,{transform:l(-d*(u.isRtl?-1:1),"px")},t,e).then(a.resolve,u.noop),a.promise},stop:function(){return u.Transition.stop(o)},cancel:function(){u.Transition.cancel(o)},reset:function(){u.css(o,"transform","")},forward:function(t,i){return void 0===i&&(i=this.percent()),u.Transition.cancel(o),this.show(t,i,!0)},translate:function(t){var i=this.getDistance()*r*(u.isRtl?-1:1);u.css(o,"transform",l(u.clamp(i-i*t-d,-f(o),g(o).width)*(u.isRtl?-1:1),"px")),this.updateTranslates(),n&&(t=u.clamp(t,-1,1),p(this.getItemIn(),"itemtranslatein",{percent:t,dir:r}),p(this.getItemIn(!0),"itemtranslateout",{percent:1-t,dir:r}))},percent:function(){return Math.abs((u.css(o,"transform").split(",")[4]*(u.isRtl?-1:1)+e)/(d-e))},getDistance:function(){return Math.abs(d-e)},getItemIn:function(t){void 0===t&&(t=!1);var i=this.getActives(),e=u.sortBy(m(o),"offsetLeft"),i=u.index(e,i[0<r*(t?-1:1)?i.length-1:0]);return~i&&e[i+(n&&!t?r:0)]},getActives:function(){var e=c(n||s,o,i);return u.sortBy(m(o).filter(function(t){var i=v(t,o);return e<=i&&i+g(t).width<=g(o).width+e}),"offsetLeft")},updateTranslates:function(){var e=this.getActives();m(o).forEach(function(t){var i=u.includes(e,t);p(t,"itemtranslate"+(i?"in":"out"),{percent:i?1:0,dir:t.offsetLeft<=s.offsetLeft?1:-1})})}}}},computed:{avgWidth:function(){return f(this.list)/this.length},finite:function(t){return t.finite||f(this.list)<g(this.list).width+m(this.list).reduce(function(t,i){return Math.max(t,g(i).width)},0)+this.center},maxIndex:function(){if(!this.finite||this.center&&!this.sets)return this.length-1;if(this.center)return this.sets[this.sets.length-1];u.css(this.slides,"order","");for(var t=s(this.list),i=this.length;i--;)if(v(this.list.children[i],this.list)<t)return Math.min(i+1,this.length-1);return 0},sets:function(t){var s=this,t=t.sets,r=g(this.list).width/(this.center?2:1),h=0,o=r,a=0;return(t=t&&this.slides.reduce(function(t,i,e){var n=g(i).width;return h<a+n&&(!s.center&&e>s.maxIndex&&(e=s.maxIndex),u.includes(t,e)||(i=s.slides[e+1],s.center&&i&&n<o-g(i).width/2?o-=n:(o=r,t.push(e),h=a+r+(s.center?n/2:0)))),a+=n,t},[]))&&t.length&&t},transitionOptions:function(){return{center:this.center,list:this.list}}},connected:function(){u.toggleClass(this.$el,this.clsContainer,!u.$("."+this.clsContainer,this.$el))},update:{write:function(){var e=this;u.$$("["+this.attrItem+"],[data-"+this.attrItem+"]",this.$el).forEach(function(t){var i=u.data(t,e.attrItem);e.maxIndex&&u.toggleClass(t,"uk-hidden",u.isNumeric(i)&&(e.sets&&!u.includes(e.sets,u.toFloat(i))||i>e.maxIndex))})},events:["load","resize"]},events:{beforeitemshow:function(t){!this.dragging&&this.sets&&this.stack.length<2&&!u.includes(this.sets,this.index)&&(this.index=this.getValidIndex());var i=Math.abs(this.index-this.prevIndex+(0<this.dir&&this.index<this.prevIndex||this.dir<0&&this.index>this.prevIndex?(this.maxIndex+1)*this.dir:0));if(!this.dragging&&1<i){for(var e=0;e<i;e++)this.stack.splice(1,0,0<this.dir?"next":"previous");t.preventDefault()}else this.duration=n(this.avgWidth/this.velocity)*(g(this.dir<0||!this.slides[this.prevIndex]?this.slides[this.index]:this.slides[this.prevIndex]).width/this.avgWidth),this.reorder()},itemshow:function(){u.isUndefined(this.prevIndex)||u.addClass(this._getTransitioner().getItemIn(),this.clsActive)},itemshown:function(){var i=this,e=this._getTransitioner(this.index).getActives();this.slides.forEach(function(t){return u.toggleClass(t,i.clsActive,u.includes(e,t))}),this.sets&&!u.includes(this.sets,u.toFloat(this.index))||this.slides.forEach(function(t){return u.toggleClass(t,i.clsActivated,u.includes(e,t))})}},methods:{reorder:function(){var e=this;if(u.css(this.slides,"order",""),!this.finite){var n=0<this.dir&&this.slides[this.prevIndex]?this.prevIndex:this.index;if(this.slides.forEach(function(t,i){return u.css(t,"order",0<e.dir&&i<n?1:e.dir<0&&i>=e.index?-1:"")}),this.center)for(var t=this.slides[n],i=g(this.list).width/2-g(t).width/2,s=0;0<i;){var r=this.getIndex(--s+n,n),h=this.slides[r];u.css(h,"order",n<r?-2:-1),i-=g(h).width}}},getValidIndex:function(t,i){if(void 0===t&&(t=this.index),void 0===i&&(i=this.prevIndex),t=this.getIndex(t,i),!this.sets)return t;var e;do{if(u.includes(this.sets,t))return t}while(e=t,(t=this.getIndex(t+this.dir,i))!==e);return t}}};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("slider",t),t});